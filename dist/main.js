(()=>{var e={279:(e,t)=>{t.DefaultMinMinutes=30,t.DefaultMaxMinutes=90,t.DefaultMaxHeight="25",t.DefaultMaxWidth="25"},21:(e,t)=>{t.MediaList=[{path:"media/worms-transparent.gif",durationMillis:4410},{path:"media/big-buck-bunny_trailer.webm",durationMillis:31e3},{path:"media/worms.gif",durationMillis:3290}]}},t={};function i(a){var s=t[a];if(void 0!==s)return s.exports;var l=t[a]={exports:{}};return e[a](l,l.exports,i),l.exports}(()=>{"use strict";const e=i(279),t=i(21),a=60*e.DefaultMinMinutes*1e3,s=60*e.DefaultMaxMinutes*1e3;let l=c(0,3);const n=function(){let t=new Proxy(new URLSearchParams(window.location.search),{get:(e,t)=>e.get(t||"")}),i="true"===t.skipDelay;return function(e){return e.maxDelayMillis<e.minDelayMillis&&(e.maxDelayMillis=s,e.minDelayMillis=a),e}({maxDelay:m(i,t.max,s),minDelay:m(i,t.min,a),maxHeight:d(t.maxHeight)?t.maxHeight:e.DefaultMaxHeight,maxWidth:d(t.maxWidth)?t.maxWidth:e.DefaultMaxWidth})}(),r=t.MediaList[0],o=function(e){let t,i=e.slice((Math.max(0,e.lastIndexOf("."))||1/0)+1);switch(i){case"apng":case"avif":case"gif":case"jpg":case"jpeg":case"jpe":case"jif":case"png":case"svg":case"jfif":case"webp":t="img";break;case"webm":t="video";break;default:throw"File extension ."+i+" is not yet supported"}return t}(r.path),u=function(e,t){let i=document.createElement(e);switch(i.id="rendered-media",i.style.objectFit="contain",i.style.maxHeight=t.maxHeight+"%",i.style.maxWidth=t.maxWidth+"%",i.style.position="absolute",e){case"img":return i;case"video":return function(e){let t=document.createElement("source");return t.src=r.path,t.type="video/webm",e.autoplay=!0,e.appendChild(t),e}(i);default:throw"Tag name "+e+" not recognized"}}(o,n);function c(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function m(e,t,i){return e?0:d(t)?60*t*1e3:i}function d(e){return!isNaN(e)&&!isNaN(parseFloat(e))&&parseFloat(e)>0}document.getElementById("media-div").appendChild(u),function e(t){let i=c(n.minDelay,n.maxDelay);setTimeout((()=>{"img"===o?(t.src="",t.src=r.path):(t.currentTime=0,t.play()),t.style.visibility="visible",setTimeout((()=>{t.style.visibility="hidden",function(e){let t=c(0,3);for(;l===t;)t=c(0,3);switch(l=t,e.style.top="",e.style.bottom="",e.style.left="",e.style.right="",t){case 0:e.style.top="0px",e.style.left="0px";break;case 1:e.style.top="0px",e.style.right="0px";break;case 2:e.style.bottom="0px",e.style.right="0px";break;case 3:e.style.bottom="0px",e.style.left="0px"}}(t),e(t)}),r.durationMillis)}),i)}(u)})()})();
//# sourceMappingURL=main.js.map