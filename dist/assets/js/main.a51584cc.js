(()=>{var e={559:(e,t)=>{t.DefaultMinMinutes=30,t.DefaultMaxMinutes=90,t.DefaultMaxHeight="25",t.DefaultMaxWidth="25",t.ZeroMediaDurationWarning="Unable to calculate media duration for the requested media. Please set the media duration (in seconds) via the `mediaDuration` parameter. Parameter supports decimal values.",t.ExtensionNotFoundError="Unable to determine file extension from media URL. Defaulting to `img` tag",t.ExtensionNotSupportedError='File extension not yet supported. Defaulting to `img` tag". Extension found: `{0}`',t.FetchImageError="Error fetching image from URL '{0}'. Error status: '{1}'"}},t={};function a(i){var r=t[i];if(void 0!==r)return r.exports;var n=t[i]={exports:{}};return e[i](n,n.exports,a),n.exports}(()=>{"use strict";const e=a(559),t=60*e.DefaultMinMinutes*1e3,i=60*e.DefaultMaxMinutes*1e3,r=document.getElementById("media-div");let n,o,s,l;function u(e){let t=m(l.minDelay,l.maxDelay);setTimeout((()=>{"img"===o?(e.src="",e.src=l.mediaUrl):(e.currentTime=0,e.play()),r.style.visibility="visible",setTimeout((()=>{r.style.visibility="hidden",c(e),u(e)}),l.mediaDuration)}),t)}function m(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function c(e){let t=m(0,3);for(;n===t;)t=m(0,3);switch(n=t,e.style.top="",e.style.bottom="",e.style.left="",e.style.right="",t){case 0:e.style.top="0px",e.style.left="0px";break;case 1:e.style.top="0px",e.style.right="0px";break;case 2:e.style.bottom="0px",e.style.right="0px";break;case 3:e.style.bottom="0px",e.style.left="0px"}}function d(e,t,a){return e?0:f(t)?60*t*1e3:a}function f(e){return!isNaN(e)&&!isNaN(parseFloat(e))&&parseFloat(e)>0}(async function(){let a=new Proxy(new URLSearchParams(window.location.search),{get:(e,t)=>e.get(t||"")}),r=document.getElementById("media-url").innerHTML,n="true"===a.skipDelay,o=d(n,a.max,i),s=d(n,a.min,t),l=f(a.maxHeight)?a.maxHeight:e.DefaultMaxHeight,u=f(a.maxWidth)?a.maxWidth:e.DefaultMaxWidth,m=a.mediaUrl?a.mediaUrl:r,c=f(a.mediaDuration)?1e3*a.mediaDuration:await async function(t){return await fetch(t,{mode:"cors"}).then((e=>e.ok?Promise.resolve(e):Promise.reject(e))).then((e=>e.arrayBuffer())).then((e=>function(e){let t=0;for(let a=0,i=e.length;a<i;a++)if(33===e[a]&&249===e[a+1]&&4===e[a+2]&&0===e[a+7]){const i=e[a+5]<<8|255&e[a+4];t+=i<2?10:i}return 10*t}(new Uint8Array(e)))).catch((a=>{throw new Error(e.FetchImageError.replace("{0}",t).replace("{1}",`${a.status} - ${a.statusText}`))}))}(m);return function(a){if(a.maxDelayMillis<a.minDelayMillis&&(a.maxDelayMillis=i,a.minDelayMillis=t),0===a.mediaDuration)throw new Error(e.ZeroMediaDurationWarning);return a}({skipDelay:n,maxDelay:o,minDelay:s,maxHeight:l,maxWidth:u,mediaUrl:m,mediaDuration:c})})().then((t=>{l=t,o=function(t){let a=function(e){return e.slice((Math.max(0,e.lastIndexOf("."))||1/0)+1)}(t);switch(a){case"apng":case"avif":case"gif":case"jpg":case"jpeg":case"jpe":case"jif":case"png":case"svg":case"jfif":case"webp":return"img";case"webm":return"video";default:return a?console.warn(e.ExtensionNotSupportedError.replace("{0}",a)):console.warn(e.ExtensionNotFoundError),"img"}}(l.mediaUrl),s=function(e,t){let a=document.createElement(e);switch(a.id="rendered-media",a.style.objectFit="contain",a.style.maxHeight=t.maxHeight+"%",a.style.maxWidth=t.maxWidth+"%",a.style.position="absolute",c(a),e){case"img":return a;case"video":return function(e,t){let a=document.createElement("source");return a.src=t,a.type="video/webm",e.autoplay=!0,e.appendChild(a),e}(a,t.mediaUrl);default:throw"Tag name "+e+" not recognized"}}(o,l)})).then((()=>{r.appendChild(s),u(s)}))})()})();
//# sourceMappingURL=main.a51584cc.js.map