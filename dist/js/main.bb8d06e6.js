(()=>{var e={192:(e,t)=>{t.DefaultMinMinutes=30,t.DefaultMaxMinutes=90,t.DefaultMaxHeight="25",t.DefaultMaxWidth="25",t.ZeroMediaDurationWarning="Unable to calculate media duration for the requested media. Please set the media duration (in seconds) via the `mediaDuration` parameter. Parameter supports decimal values.",t.ContentTypeNotFoundError="Unable to determine content type of from media URL. Defaulting to `img` tag",t.ContentTypeNotSupportedError='Content type not yet supported. Defaulting to `img` tag". Content type found: `{0}`',t.FetchImageError="Error fetching image from URL '{0}'. Error status: '{1}'"}},t={};function a(i){var r=t[i];if(void 0!==r)return r.exports;var n=t[i]={exports:{}};return e[i](n,n.exports,a),n.exports}(()=>{"use strict";const e=a(192),t=60*e.DefaultMinMinutes*1e3,i=60*e.DefaultMaxMinutes*1e3,r=document.getElementById("media-div");let n,o,s,l;function u(e){let t=m(l.minDelay,l.maxDelay);setTimeout((()=>{"img"===o?(e.src="",e.src=l.mediaUrl):(e.currentTime=0,e.play()),r.style.visibility="visible",setTimeout((()=>{r.style.visibility="hidden",c(e),u(e)}),l.mediaDuration)}),t)}function m(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function c(e){let t=m(0,3);for(;n===t;)t=m(0,3);switch(n=t,e.style.top="",e.style.bottom="",e.style.left="",e.style.right="",t){case 0:e.style.top="0px",e.style.left="0px";break;case 1:e.style.top="0px",e.style.right="0px";break;case 2:e.style.bottom="0px",e.style.right="0px";break;case 3:e.style.bottom="0px",e.style.left="0px"}}function d(e,t,a){return e?0:p(t)?60*t*1e3:a}function p(e){return!isNaN(e)&&!isNaN(parseFloat(e))&&parseFloat(e)>0}(async function(){let a=new Proxy(new URLSearchParams(window.location.search),{get:(e,t)=>e.get(t||"")}),r="true"===a.skipDelay,n=d(r,a.max,i),o=d(r,a.min,t),s=p(a.maxHeight)?a.maxHeight:e.DefaultMaxHeight,l=p(a.maxWidth)?a.maxWidth:e.DefaultMaxWidth,u=a.mediaUrl?a.mediaUrl:"/media",m=await async function(t){let a,i=await fetch(t,{mode:"cors"}).then((e=>e.ok?(a=e.headers.get("Content-Type"),Promise.resolve(e)):Promise.reject(e))).then((e=>e.arrayBuffer())).then((e=>function(e){let t=0;for(let a=0,i=e.length;a<i;a++)if(33===e[a]&&249===e[a+1]&&4===e[a+2]&&0===e[a+7]){const i=e[a+5]<<8|255&e[a+4];t+=i<2?10:i}return 10*t}(new Uint8Array(e)))).catch((a=>{throw new Error(e.FetchImageError.replace("{0}",t).replace("{1}",`${a.status} - ${a.statusText}`))}));return{contentType:a,duration:i}}(u);return function(a){if(a.maxDelayMillis<a.minDelayMillis&&(a.maxDelayMillis=i,a.minDelayMillis=t),0===a.mediaDuration)throw new Error(e.ZeroMediaDurationWarning);return a}({skipDelay:r,maxDelay:n,minDelay:o,maxHeight:s,maxWidth:l,mediaUrl:u,mediaDuration:p(a.mediaDuration)?1e3*a.mediaDuration:m.duration||0,contentType:m.contentType})})().then((t=>{l=t,o=function(t){switch(t){case"image/avif":case"image/gif":case"image/jpeg":case"image/png":case"image/svg+xml":case"image/webp":case t.startsWith("image/"):return"img";case"video/webm":case t.startsWith("video/"):return"video";default:return t?console.warn(e.ContentTypeNotSupportedError.replace("{0}",t)):console.warn(e.ContentTypeNotFoundError),"img"}}(l.contentType),s=function(e,t){let a=document.createElement(e);switch(a.id="rendered-media",a.style.objectFit="contain",a.style.maxHeight=t.maxHeight+"%",a.style.maxWidth=t.maxWidth+"%",a.style.position="absolute",a.alt="Just a lil' worm guy",c(a),e){case"img":return a;case"video":return function(e,t){let a=document.createElement("source");return a.src=t.mediaUrl,a.type=t.contentType,e.autoplay=!0,e.appendChild(a),e}(a,t);default:throw new Error(`Tag name ${e} not recognized`)}}(o,l)})).then((()=>{r.appendChild(s),u(s)}))})()})();
//# sourceMappingURL=main.bb8d06e6.js.map