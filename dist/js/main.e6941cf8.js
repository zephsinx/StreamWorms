(()=>{var e={192:e=>{e.exports=Object.freeze({DefaultMinMinutes:30,DefaultMaxMinutes:90,DefaultMaxHeight:"25",DefaultMaxWidth:"25",ZeroMediaDurationWarning:"Unable to calculate media duration for the requested media. Please set the media duration (in seconds) via the `mediaDuration` parameter. Parameter supports decimal values.",ContentTypeNotFoundError:"Unable to determine content type of from media URL. Defaulting to `img` tag",ContentTypeNotSupportedError:'Content type not yet supported. Defaulting to `img` tag". Content type found: `{0}`',FetchImageError:"Error fetching image from URL '{0}'. Error status: '{1}'"})},939:e=>{e.exports={getMediaCoordinateStyles:function(e,t,a){let r,n,i,o,l,s=.5*window.innerHeight,u=.5*window.innerWidth;do{l=Math.floor(4*Math.random())}while(l===e);do{i=Math.floor(Math.random()*u)}while(i+a>u);do{o=Math.floor(Math.random()*s)}while(o+t>s);return r=l%2==0?i:u+i,n=l<2?o:s+o,{quadrant:l,left:`${r}px`,top:`${n}px`}},randomIntFromInterval:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}}}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,a),i.exports}(()=>{"use strict";const e=a(192),t=a(939),r=60*e.DefaultMinMinutes*1e3,n=60*e.DefaultMaxMinutes*1e3,i=document.getElementById("media-div");let o,l,s,u,d=!0;function m(e){let a=t.randomIntFromInterval(u.minDelay,u.maxDelay);d&&(a=0,d=!1),setTimeout((()=>{"img"===l?(e.src="",e.src=u.mediaUrl):(e.currentTime=0,e.play()),i.style.visibility="visible",setTimeout((()=>{i.style.visibility="hidden",function(e){let a=t.getMediaCoordinateStyles(o,e.height,e.width);o=a.quadrant,e.style.left=a.left,e.style.top=a.top}(e),m(e)}),u.mediaDuration)}),a)}function c(e,t,a){return e?0:h(t)?60*t*1e3:a}function h(e){return!isNaN(e)&&!isNaN(parseFloat(e))&&parseFloat(e)>0}(async function(){let t=new Proxy(new URLSearchParams(window.location.search),{get:(e,t)=>e.get(t||"")}),a="true"===t.skipDelay,i=c(a,t.max,n),o=c(a,t.min,r),l=h(t.maxHeight)?t.maxHeight:e.DefaultMaxHeight,s=h(t.maxWidth)?t.maxWidth:e.DefaultMaxWidth,u=t.mediaUrl?t.mediaUrl:"/media",d=await async function(t){let a,r=await fetch(t,{mode:"cors"}).then((e=>e.ok?(a=e.headers.get("Content-Type"),Promise.resolve(e)):Promise.reject(e))).then((e=>e.arrayBuffer())).then((e=>function(e){let t=0;for(let a=0,r=e.length;a<r;a++)if(33===e[a]&&249===e[a+1]&&4===e[a+2]&&0===e[a+7]){const r=e[a+5]<<8|255&e[a+4];t+=r<2?10:r}return 10*t}(new Uint8Array(e)))).catch((a=>{throw new Error(e.FetchImageError.replace("{0}",t).replace("{1}",`${a.status} - ${a.statusText}`))}));return{contentType:a,duration:r}}(u);return function(t){if(t.maxDelayMillis<t.minDelayMillis&&(t.maxDelayMillis=n,t.minDelayMillis=r),0===t.mediaDuration)throw new Error(e.ZeroMediaDurationWarning);return t}({skipDelay:a,maxDelay:i,minDelay:o,maxHeight:l,maxWidth:s,mediaUrl:u,mediaDuration:h(t.mediaDuration)?1e3*t.mediaDuration:d.duration||0,contentType:d.contentType})})().then((t=>{u=t,l=function(t){switch(t){case"image/avif":case"image/gif":case"image/jpeg":case"image/png":case"image/svg+xml":case"image/webp":case t.startsWith("image/"):return"img";case"video/webm":case t.startsWith("video/"):return"video";default:return t?console.warn(e.ContentTypeNotSupportedError.replace("{0}",t)):console.warn(e.ContentTypeNotFoundError),"img"}}(u.contentType),s=function(e,t){let a=document.createElement(e);switch(a.id="rendered-media",a.style.objectFit="contain",a.style.maxHeight=t.maxHeight+"%",a.style.maxWidth=t.maxWidth+"%",a.style.position="absolute",a.style.top="0",a.style.left="0",a.alt="Just a lil' worm guy",e){case"img":return a;case"video":return function(e,t){let a=document.createElement("source");return a.src=t.mediaUrl,a.type=t.contentType,e.autoplay=!0,e.appendChild(a),e}(a,t);default:throw new Error(`Tag name ${e} not recognized`)}}(l,u)})).then((()=>{i.appendChild(s),m(s)}))})()})();
//# sourceMappingURL=main.e6941cf8.js.map